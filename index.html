<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CO₂-Gasflaschen-Rechner</title>
    <style>
        /* (Behalte dein bestehendes CSS bei) */
    </style>
</head>
<body>
    <div class="container">
        <!-- (Behalte dein bestehendes HTML-Formular bei) -->
    </div>

    <script>
        // Debugging-Hilfe
        console.log("Script geladen - Bereit für Berechnungen");

        function calculateMinRoomSize() {
            console.log("Berechne Mindestraumgröße...");
            
            // Eingabewerte mit Standardwerten falls leer
            const fillAmount = parseFloat(document.getElementById('fillAmount').value) || 0;
            const roomLength = parseFloat(document.getElementById('roomLength').value) || 0;
            const roomWidth = parseFloat(document.getElementById('roomWidth').value) || 0;
            const roomHeight = parseFloat(document.getElementById('roomHeight').value) || 2.5;
            
            console.log(`Eingaben: ${fillAmount}kg, ${roomLength}x${roomWidth}x${roomHeight}m`);

            // Grundberechnung
            const minVolume = (fillAmount * 17).toFixed(1);
            const minArea = (fillAmount * 7.5).toFixed(1);
            
            document.getElementById('result1').innerHTML = `
                <h3>Ergebnis</h3>
                <p><strong>Mindestvolumen:</strong> ${minVolume} m³</p>
                <p><strong>Mindestfläche:</strong> ${minArea} m²</p>
                ${fillAmount > 10 ? '<p class="warning">⚠️ Für Flaschen >10kg professionelle Beratung hinzuziehen!</p>' : ''}
            `;
        }

        function calculateMaxGasCylinder() {
            console.log("Berechne maximale Flaschengröße...");
            
            const roomLength = parseFloat(document.getElementById('roomLength2').value) || 0;
            const roomWidth = parseFloat(document.getElementById('roomWidth2').value) || 0;
            const roomHeight = parseFloat(document.getElementById('roomHeight2').value) || 2.5;
            
            console.log(`Raummaße: ${roomLength}x${roomWidth}x${roomHeight}m`);

            // Berechnung
            const roomVolume = roomLength * roomWidth * roomHeight;
            const maxKg = (roomVolume / 17).toFixed(1);
            
            document.getElementById('result2').innerHTML = `
                <h3>Ergebnis</h3>
                <p><strong>Raumvolumen:</strong> ${roomVolume.toFixed(1)} m³</p>
                <p><strong>Max. Flaschengröße:</strong> ${maxKg} kg CO₂</p>
                ${maxKg < 2 ? '<p class="warning">⚠️ Raum zu klein für standard-Flaschen!</p>' : ''}
            `;
        }

        // Event-Listener für bessere mobile Unterstützung
        document.addEventListener('DOMContentLoaded', () => {
            console.log("Seite vollständig geladen");
            document.querySelectorAll('button').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    if(btn.textContent.includes("Mindestraum")) calculateMinRoomSize();
                    else calculateMaxGasCylinder();
                });
            });
        });
    </script>
</body>
</html>
